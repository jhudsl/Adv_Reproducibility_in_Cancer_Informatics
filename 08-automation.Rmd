
```{r, include = FALSE}
leanbuild::set_knitr_image_path()
```

# Automation as a reproducibility tool

## Learning Objectives

```{r, fig.alt="Learning Objectives This chapter will demonstrate how to: Understand how automation aids in reproducibility and efficiency. Learn the basics of GitHub Actions.", out.width = "100%", echo = FALSE}
leanbuild::include_slide("https://docs.google.com/presentation/d/1IJ_uFxJud7OdIAr6p8ZOzvYs-SGDqa7g4cUHtUld03I/edit#slide=id.g104d8c58b62_46_4")
```

***


We've discussed that a reproducible analysis can be run by someone else and obtain the same result. But what if before you bug your colleague to use their time to re-run your analysis, you had a robot re-run your analysis? Robots don't get tired or have other deadlines to respond to and can be set up to re-run your analysis at any time. This is the basis of why automation is powerful tool for reproducibility.

```{r, fig.alt="Ruby wants to know if her analysis is reproducibly so she sets up an automation tool to re-run her analysis whenever she pushes changes to her analysis. This robot has a computer for a body and says 'I will re-run Rubyâ€™s analysis consistently and instantly upon whatever trigger she sets up.''", out.width = "100%", echo = FALSE}
leanbuild::include_slide("https://docs.google.com/presentation/d/1IJ_uFxJud7OdIAr6p8ZOzvYs-SGDqa7g4cUHtUld03I/edit#slide=id.g104d8c58b62_46_9")
```

There are a lot of applications for GitHub Actions (see links at the end of this chapter) but in the context of our [R](https://github.com/jhudsl/reproducible-R-example) and [Python](https://github.com/jhudsl/reproducible-python-example) examples or for scientific notebooks in general, it can be useful to build a GitHub Actions that re-runs the notebook every time a pull request is opened.

This is useful because if the notebook does not re-run successfully by GitHub actions, this can be informative to something being amiss in the changes being made.

## Build an example GitHub Actions

### Structure of GitHub actions file

GitHub actions are written yaml file that you store in a folder called `.github/workflows` in your GitHub repository.

They have two main parts: the `trigger` and the `action`

The trigger is specified by `on:` and the action that happens upon the trigger being activated is specified by `jobs:`.

```
on:
  # Some stuff that specifies when the action should run

jobs:
  # The action that should run
```


- [Python example GitHub Actions to re-run notebook](https://github.com/jhudsl/reproducible-python-example/blob/main/.github/workflows/run-python-notebook.yml)
- [R example GitHub Actions to re-run notebook](https://github.com/jhudsl/reproducible-R-example/blob/main/.github/workflows/run-r-notebook.yml)
- [Great course about github actions](https://lab.github.com/githubtraining/github-actions:-hello-world)
